<br />

<!-- <a class="center" href="http://www.stt-meisterschaft.at/node/7">http://www.stt-meisterschaft.at/node/7</a>

<div class="h_iframe">
  &nbsp;
  <iframe src="http://www.stt-meisterschaft.at/node/7" frameborder="0" allowfullscreen height="1400">
  </iframe>
</div>
-->

<h1 class="large header">STT - Meisterschaft {{ season }} - aktueller Tabellenstand:</h1>

<div class="standings">
  <h3 class="header">Liga B</h3>

  <br />

  @if (!isMobile) {
  <div class="table-scroll">
    <mat-table
      [dataSource]="dataSource"
      matSort
      matSortActive="place"
      matSortDirection="asc"
      matSortDisableClear
      multiTemplateDataRows
    >
      <ng-container matColumnDef="place">
        <mat-header-cell *matHeaderCellDef>Platz</mat-header-cell>
        <mat-cell *matCellDef="let standings">{{ standings.place }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="team">
        <mat-header-cell *matHeaderCellDef>Mannschaft</mat-header-cell>
        <mat-cell *matCellDef="let standings">{{ standings.team }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="games">
        <mat-header-cell *matHeaderCellDef>Spiele</mat-header-cell>
        <mat-cell *matCellDef="let standings">{{ standings.games }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="wins">
        <mat-header-cell *matHeaderCellDef>Siege</mat-header-cell>
        <mat-cell *matCellDef="let standings">{{ standings.wins }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="draws">
        <mat-header-cell *matHeaderCellDef>Unentschieden</mat-header-cell>
        <mat-cell *matCellDef="let standings">{{ standings.draws }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="losses">
        <mat-header-cell *matHeaderCellDef>Niederlagen</mat-header-cell>
        <mat-cell *matCellDef="let standings">{{ standings.losses }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="goalDifference">
        <mat-header-cell *matHeaderCellDef>Torverhältnis</mat-header-cell>
        <mat-cell *matCellDef="let standings">{{ standings.goalDifference }}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="points">
        <mat-header-cell *matHeaderCellDef>Punkte</mat-header-cell>
        <mat-cell *matCellDef="let standings">{{ standings.points }}</mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>
  </div>
  } @if (isMobile) {
  <div class="mobile-standings">
    @for (standings of mobileStandings; track standings) {
    <div class="mobile-card">
      <div class="card-row top">
        <span class="badge">#{{ standings.place }}</span>
        <div class="team">{{ standings.team }}</div>
        <div class="points">{{ standings.points }} P</div>
      </div>
      <div class="card-row chips">
        <div class="chip">
          <span>Spiele</span>
          <strong>{{ standings.games }}</strong>
        </div>
        <div class="chip">
          <span>Torv.</span>
          <strong>{{ standings.goalDifference }}</strong>
        </div>
      </div>
      <div class="stats-grid">
        <div class="stat-block wins">
          <span>S</span>
          <strong>{{ standings.wins }}</strong>
        </div>
        <div class="stat-block draws">
          <span>U</span>
          <strong>{{ standings.draws }}</strong>
        </div>
        <div class="stat-block losses">
          <span>N</span>
          <strong>{{ standings.losses }}</strong>
        </div>
      </div>
    </div>
    }
  </div>
  }
</div>

<div class="championship-sections">
  @if (seasonContent?.preface?.length) {
  <div class="champ-note">
    @for (line of seasonContent.preface; track line) {
    <p class="small">{{ line }}</p>
    }
  </div>
  }

  @if (seasonContent?.upcomingTitle && getUpcomingForSeason(season).length) {
  <section class="champ-section">
    <div class="section-header">
      <h2>{{ seasonContent.upcomingTitle }}</h2>
    </div>
    <div class="section-body">
      @for (match of getUpcomingForSeason(season); track match.id) {
      <div class="match-row upcoming">
        <span class="match-dot"></span>
        <span>{{ formatMatch(match) }}</span>
      </div>
      }
    </div>
  </section>
  }

  @if (scorers?.length) {
  <section class="champ-section">
    <div class="section-header">
      <h2>Unsere Torschützen</h2>
    </div>
    <div class="section-body scorers-grid">
      @for (scorer of scorers; track scorer) {
      <div class="scorer-card">
        <span class="scorer-goals">{{ scorer.goalsDisplay }}</span>
        <span class="scorer-name">{{ scorer.playerName }}</span>
      </div>
      }
    </div>
  </section>
  }

  @if (getResultsForSeason(season).length) {
  <section class="champ-section">
    <div class="section-header">
      <h2>Ergebnisse</h2>
    </div>
    <div class="section-body">
      @for (match of getResultsForSeason(season); track match.id) {
      <div class="match-row result">
        <span class="match-dot"></span>
        <span>{{ formatMatch(match) }}</span>
      </div>
      }
    </div>
  </section>
  }

  @if (seasonContent?.postResults?.length) {
  <div class="champ-note subtle">
    @for (line of seasonContent.postResults; track line) {
    <p class="small">{{ line }}</p>
    }
  </div>
  }
</div>

<br />
<br />
