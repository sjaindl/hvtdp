<div class="slider" *ngIf="currentImage as currentItem">
  <div class="slider-main">
    <div
      class="slider-image-wrapper"
      #imageWrapper
      [ngStyle]="{
        transform: 'translateX(' + currentTranslate + 'px)',
        transition: cardTransition
      }"
      (mousedown)="onMouseDown($event)"
      (mouseup)="onMouseUp($event)"
      (mousemove)="onMouseMove($event)"
      (mouseleave)="onMouseLeave($event)"
      (touchstart)="onTouchStart($event)"
      (touchmove)="onTouchMove($event)"
      (touchend)="onTouchEnd($event)"
      (touchcancel)="onTouchEnd($event)"
    >
      <img
        class="slider-image"
        draggable="false"
        (dragstart)="$event.preventDefault()"
        [src]="imagePath(currentItem)"
        [alt]="currentItem.title || 'Image'"
      />

      <button
        type="button"
        class="slider-fullscreen-btn"
        (click)="toggleFullscreen(imageWrapper, $event)"
      >
        <i class="fas fa-expand"></i>
      </button>

      <button class="slider-arrow left" type="button" (click)="previous()">‹</button>
      <button class="slider-arrow right" type="button" (click)="next()">›</button>
    </div>

    <div class="slider-bottom">
      <div class="slider-dots" *ngIf="carouselItems?.length > 1 && showDots">
        <button
          *ngFor="let item of carouselItems; let i = index; trackBy: trackByIndex"
          type="button"
          class="dot"
          [class.active]="i === currentIndex"
          (click)="goTo(i)"
        ></button>
      </div>

      <div class="slider-caption">
        <h2 class="slider-title">{{ currentItem.title }}</h2>
        <h4 *ngIf="currentItem.date" class="slider-title">{{ currentItem.date }}</h4>
      </div>

      <button
        *ngIf="currentItem.navPath"
        type="button"
        class="slider-details-btn"
        (click)="showImageDetails(currentItem)"
      >
        Zum Bericht
      </button>
    </div>
  </div>

  <div class="slider-thumbs" *ngIf="carouselItems?.length > 1">
    <button
      *ngFor="let item of carouselItems; let i = index; trackBy: trackByIndex"
      #thumbBtn
      type="button"
      class="thumb"
      [class.active]="i === currentIndex"
      (click)="goTo(i)"
    >
      <img [src]="imagePath(item)" [alt]="item.title || 'Thumb'" />
    </button>
  </div>
</div>

<div class="slider slider-empty" *ngIf="carouselItems?.length === 0">
  <p>Noch keine Einträge vorhanden.</p>
</div>
